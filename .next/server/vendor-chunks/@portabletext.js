"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@portabletext";
exports.ids = ["vendor-chunks/@portabletext"];
exports.modules = {

/***/ "(rsc)/./node_modules/@portabletext/react/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@portabletext/react/dist/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PortableText: () => (/* binding */ PortableText),\n/* harmony export */   defaultComponents: () => (/* binding */ defaultComponents),\n/* harmony export */   mergeComponents: () => (/* binding */ mergeComponents),\n/* harmony export */   toPlainText: () => (/* reexport safe */ _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.toPlainText)\n/* harmony export */ });\n/* harmony import */ var _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @portabletext/toolkit */ \"(rsc)/./node_modules/@portabletext/toolkit/dist/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\nconst _excluded = [\n    \"block\",\n    \"list\",\n    \"listItem\",\n    \"marks\",\n    \"types\"\n], _excluded2 = [\n    \"listItem\"\n], _excluded3 = [\n    \"_key\"\n];\nfunction ownKeys(e, r) {\n    var t = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n        var o = Object.getOwnPropertySymbols(e);\n        r && (o = o.filter(function(r) {\n            return Object.getOwnPropertyDescriptor(e, r).enumerable;\n        })), t.push.apply(t, o);\n    }\n    return t;\n}\nfunction _objectSpread(e) {\n    for(var r = 1; r < arguments.length; r++){\n        var t = null != arguments[r] ? arguments[r] : {};\n        r % 2 ? ownKeys(Object(t), !0).forEach(function(r) {\n            _defineProperty(e, r, t[r]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r) {\n            Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n        });\n    }\n    return e;\n}\nfunction _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n        var res = prim.call(input, hint || \"default\");\n        if (typeof res !== \"object\") return res;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n}\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n    var key, i;\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n        for(i = 0; i < sourceSymbolKeys.length; i++){\n            key = sourceSymbolKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\n\n\n\n\nfunction mergeComponents(parent, overrides) {\n    const { block, list, listItem, marks, types } = overrides, rest = _objectWithoutProperties(overrides, _excluded);\n    return _objectSpread(_objectSpread({}, parent), {}, {\n        block: mergeDeeply(parent, overrides, \"block\"),\n        list: mergeDeeply(parent, overrides, \"list\"),\n        listItem: mergeDeeply(parent, overrides, \"listItem\"),\n        marks: mergeDeeply(parent, overrides, \"marks\"),\n        types: mergeDeeply(parent, overrides, \"types\")\n    }, rest);\n}\nfunction mergeDeeply(parent, overrides, key) {\n    const override = overrides[key];\n    const parentVal = parent[key];\n    if (typeof override === \"function\") {\n        return override;\n    }\n    if (override && typeof parentVal === \"function\") {\n        return override;\n    }\n    if (override) {\n        return _objectSpread(_objectSpread({}, parentVal), override);\n    }\n    return parentVal;\n}\nconst link = (_ref)=>{\n    let { children, value } = _ref;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"a\", {\n        href: value == null ? void 0 : value.href,\n        children\n    });\n};\nconst underlineStyle = {\n    textDecoration: \"underline\"\n};\nconst defaultMarks = {\n    em: (_ref2)=>{\n        let { children } = _ref2;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"em\", {\n            children\n        });\n    },\n    strong: (_ref3)=>{\n        let { children } = _ref3;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", {\n            children\n        });\n    },\n    code: (_ref4)=>{\n        let { children } = _ref4;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"code\", {\n            children\n        });\n    },\n    underline: (_ref5)=>{\n        let { children } = _ref5;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n            style: underlineStyle,\n            children\n        });\n    },\n    \"strike-through\": (_ref6)=>{\n        let { children } = _ref6;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"del\", {\n            children\n        });\n    },\n    link\n};\nconst defaultLists = {\n    number: (_ref7)=>{\n        let { children } = _ref7;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ol\", {\n            children\n        });\n    },\n    bullet: (_ref8)=>{\n        let { children } = _ref8;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ul\", {\n            children\n        });\n    }\n};\nconst DefaultListItem = (_ref9)=>{\n    let { children } = _ref9;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n        children\n    });\n};\nconst getTemplate = (type, prop)=>\"[@portabletext/react] Unknown \".concat(type, \", specify a component for it in the `components.\").concat(prop, \"` prop\");\nconst unknownTypeWarning = (typeName)=>getTemplate('block type \"'.concat(typeName, '\"'), \"types\");\nconst unknownMarkWarning = (markType)=>getTemplate('mark type \"'.concat(markType, '\"'), \"marks\");\nconst unknownBlockStyleWarning = (blockStyle)=>getTemplate('block style \"'.concat(blockStyle, '\"'), \"block\");\nconst unknownListStyleWarning = (listStyle)=>getTemplate('list style \"'.concat(listStyle, '\"'), \"list\");\nconst unknownListItemStyleWarning = (listStyle)=>getTemplate('list item style \"'.concat(listStyle, '\"'), \"listItem\");\nfunction printWarning(message) {\n    console.warn(message);\n}\nconst hidden = {\n    display: \"none\"\n};\nconst DefaultUnknownType = (_ref10)=>{\n    let { value, isInline } = _ref10;\n    const warning = unknownTypeWarning(value._type);\n    return isInline ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n        style: hidden,\n        children: warning\n    }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        style: hidden,\n        children: warning\n    });\n};\nconst DefaultUnknownMark = (_ref11)=>{\n    let { markType, children } = _ref11;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n        className: \"unknown__pt__mark__\".concat(markType),\n        children\n    });\n};\nconst DefaultUnknownBlockStyle = (_ref12)=>{\n    let { children } = _ref12;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n        children\n    });\n};\nconst DefaultUnknownList = (_ref13)=>{\n    let { children } = _ref13;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ul\", {\n        children\n    });\n};\nconst DefaultUnknownListItem = (_ref14)=>{\n    let { children } = _ref14;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n        children\n    });\n};\nconst DefaultHardBreak = ()=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"br\", {});\nconst defaultBlockStyles = {\n    normal: (_ref15)=>{\n        let { children } = _ref15;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n            children\n        });\n    },\n    blockquote: (_ref16)=>{\n        let { children } = _ref16;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"blockquote\", {\n            children\n        });\n    },\n    h1: (_ref17)=>{\n        let { children } = _ref17;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h1\", {\n            children\n        });\n    },\n    h2: (_ref18)=>{\n        let { children } = _ref18;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h2\", {\n            children\n        });\n    },\n    h3: (_ref19)=>{\n        let { children } = _ref19;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", {\n            children\n        });\n    },\n    h4: (_ref20)=>{\n        let { children } = _ref20;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n            children\n        });\n    },\n    h5: (_ref21)=>{\n        let { children } = _ref21;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", {\n            children\n        });\n    },\n    h6: (_ref22)=>{\n        let { children } = _ref22;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h6\", {\n            children\n        });\n    }\n};\nconst defaultComponents = {\n    types: {},\n    block: defaultBlockStyles,\n    marks: defaultMarks,\n    list: defaultLists,\n    listItem: DefaultListItem,\n    hardBreak: DefaultHardBreak,\n    unknownType: DefaultUnknownType,\n    unknownMark: DefaultUnknownMark,\n    unknownList: DefaultUnknownList,\n    unknownListItem: DefaultUnknownListItem,\n    unknownBlockStyle: DefaultUnknownBlockStyle\n};\nfunction PortableText(_ref23) {\n    let { value: input, components: componentOverrides, listNestingMode, onMissingComponent: missingComponentHandler = printWarning } = _ref23;\n    const handleMissingComponent = missingComponentHandler || noop;\n    const blocks = Array.isArray(input) ? input : [\n        input\n    ];\n    const nested = (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.nestLists)(blocks, listNestingMode || _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.LIST_NEST_MODE_HTML);\n    const components = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        return componentOverrides ? mergeComponents(defaultComponents, componentOverrides) : defaultComponents;\n    }, [\n        componentOverrides\n    ]);\n    const renderNode = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>getNodeRenderer(components, handleMissingComponent), [\n        components,\n        handleMissingComponent\n    ]);\n    const rendered = nested.map((node, index)=>renderNode({\n            node,\n            index,\n            isInline: false,\n            renderNode\n        }));\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n        children: rendered\n    });\n}\nconst getNodeRenderer = (components, handleMissingComponent)=>{\n    function renderNode(options) {\n        const { node, index, isInline } = options;\n        const key = node._key || \"node-\".concat(index);\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitList)(node)) {\n            return renderList(node, index, key);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextListItemBlock)(node)) {\n            return renderListItem(node, index, key);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitSpan)(node)) {\n            return renderSpan(node, index, key);\n        }\n        if (hasCustomComponentForNode(node)) {\n            return renderCustomBlock(node, index, key, isInline);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextBlock)(node)) {\n            return renderBlock(node, index, key, isInline);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitTextNode)(node)) {\n            return renderText(node, key);\n        }\n        return renderUnknownType(node, index, key, isInline);\n    }\n    function hasCustomComponentForNode(node) {\n        return node._type in components.types;\n    }\n    function renderListItem(node, index, key) {\n        const tree = serializeBlock({\n            node,\n            index,\n            isInline: false,\n            renderNode\n        });\n        const renderer = components.listItem;\n        const handler = typeof renderer === \"function\" ? renderer : renderer[node.listItem];\n        const Li = handler || components.unknownListItem;\n        if (Li === components.unknownListItem) {\n            const style = node.listItem || \"bullet\";\n            handleMissingComponent(unknownListItemStyleWarning(style), {\n                type: style,\n                nodeType: \"listItemStyle\"\n            });\n        }\n        let children = tree.children;\n        if (node.style && node.style !== \"normal\") {\n            const { listItem } = node, blockNode = _objectWithoutProperties(node, _excluded2);\n            children = renderNode({\n                node: blockNode,\n                index,\n                isInline: false,\n                renderNode\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Li, {\n            value: node,\n            index,\n            isInline: false,\n            renderNode,\n            children\n        }, key);\n    }\n    function renderList(node, index, key) {\n        const children = node.children.map((child, childIndex)=>renderNode({\n                node: child._key ? child : _objectSpread(_objectSpread({}, child), {}, {\n                    _key: \"li-\".concat(index, \"-\").concat(childIndex)\n                }),\n                index: childIndex,\n                isInline: false,\n                renderNode\n            }));\n        const component = components.list;\n        const handler = typeof component === \"function\" ? component : component[node.listItem];\n        const List = handler || components.unknownList;\n        if (List === components.unknownList) {\n            const style = node.listItem || \"bullet\";\n            handleMissingComponent(unknownListStyleWarning(style), {\n                nodeType: \"listStyle\",\n                type: style\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(List, {\n            value: node,\n            index,\n            isInline: false,\n            renderNode,\n            children\n        }, key);\n    }\n    function renderSpan(node, _index, key) {\n        const { markDef, markType, markKey } = node;\n        const Span = components.marks[markType] || components.unknownMark;\n        const children = node.children.map((child, childIndex)=>renderNode({\n                node: child,\n                index: childIndex,\n                isInline: true,\n                renderNode\n            }));\n        if (Span === components.unknownMark) {\n            handleMissingComponent(unknownMarkWarning(markType), {\n                nodeType: \"mark\",\n                type: markType\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Span, {\n            text: (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.spanToPlainText)(node),\n            value: markDef,\n            markType,\n            markKey,\n            renderNode,\n            children\n        }, key);\n    }\n    function renderBlock(node, index, key, isInline) {\n        const _serializeBlock = serializeBlock({\n            node,\n            index,\n            isInline,\n            renderNode\n        }), { _key } = _serializeBlock, props = _objectWithoutProperties(_serializeBlock, _excluded3);\n        const style = props.node.style || \"normal\";\n        const handler = typeof components.block === \"function\" ? components.block : components.block[style];\n        const Block = handler || components.unknownBlockStyle;\n        if (Block === components.unknownBlockStyle) {\n            handleMissingComponent(unknownBlockStyleWarning(style), {\n                nodeType: \"blockStyle\",\n                type: style\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Block, _objectSpread(_objectSpread({}, props), {}, {\n            value: props.node,\n            renderNode\n        }), key);\n    }\n    function renderText(node, key) {\n        if (node.text === \"\\n\") {\n            const HardBreak = components.hardBreak;\n            return HardBreak ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(HardBreak, {}, key) : \"\\n\";\n        }\n        return node.text;\n    }\n    function renderUnknownType(node, index, key, isInline) {\n        const nodeOptions = {\n            value: node,\n            isInline,\n            index,\n            renderNode\n        };\n        handleMissingComponent(unknownTypeWarning(node._type), {\n            nodeType: \"block\",\n            type: node._type\n        });\n        const UnknownType = components.unknownType;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(UnknownType, _objectSpread({}, nodeOptions), key);\n    }\n    function renderCustomBlock(node, index, key, isInline) {\n        const nodeOptions = {\n            value: node,\n            isInline,\n            index,\n            renderNode\n        };\n        const Node = components.types[node._type];\n        return Node ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Node, _objectSpread({}, nodeOptions), key) : null;\n    }\n    return renderNode;\n};\nfunction serializeBlock(options) {\n    const { node, index, isInline, renderNode } = options;\n    const tree = (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.buildMarksTree)(node);\n    const children = tree.map((child, i)=>renderNode({\n            node: child,\n            isInline: true,\n            index: i,\n            renderNode\n        }));\n    return {\n        _key: node._key || \"block-\".concat(index),\n        children,\n        index,\n        isInline,\n        node\n    };\n}\nfunction noop() {}\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHBvcnRhYmxldGV4dC9yZWFjdC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxZQUFZO0lBQUM7SUFBUztJQUFRO0lBQVk7SUFBUztDQUFRLEVBQy9EQyxhQUFhO0lBQUM7Q0FBVyxFQUN6QkMsYUFBYTtJQUFDO0NBQU87QUFDdkIsU0FBU0MsUUFBUUMsQ0FBQyxFQUFFQyxDQUFDO0lBQUksSUFBSUMsSUFBSUMsT0FBT0MsSUFBSSxDQUFDSjtJQUFJLElBQUlHLE9BQU9FLHFCQUFxQixFQUFFO1FBQUUsSUFBSUMsSUFBSUgsT0FBT0UscUJBQXFCLENBQUNMO1FBQUlDLEtBQU1LLENBQUFBLElBQUlBLEVBQUVDLE1BQU0sQ0FBQyxTQUFVTixDQUFDO1lBQUksT0FBT0UsT0FBT0ssd0JBQXdCLENBQUNSLEdBQUdDLEdBQUdRLFVBQVU7UUFBRSxFQUFDLEdBQUlQLEVBQUVRLElBQUksQ0FBQ0MsS0FBSyxDQUFDVCxHQUFHSTtJQUFJO0lBQUUsT0FBT0o7QUFBRztBQUM5UCxTQUFTVSxjQUFjWixDQUFDO0lBQUksSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlZLFVBQVVDLE1BQU0sRUFBRWIsSUFBSztRQUFFLElBQUlDLElBQUksUUFBUVcsU0FBUyxDQUFDWixFQUFFLEdBQUdZLFNBQVMsQ0FBQ1osRUFBRSxHQUFHLENBQUM7UUFBR0EsSUFBSSxJQUFJRixRQUFRSSxPQUFPRCxJQUFJLENBQUMsR0FBR2EsT0FBTyxDQUFDLFNBQVVkLENBQUM7WUFBSWUsZ0JBQWdCaEIsR0FBR0MsR0FBR0MsQ0FBQyxDQUFDRCxFQUFFO1FBQUcsS0FBS0UsT0FBT2MseUJBQXlCLEdBQUdkLE9BQU9lLGdCQUFnQixDQUFDbEIsR0FBR0csT0FBT2MseUJBQXlCLENBQUNmLE1BQU1ILFFBQVFJLE9BQU9ELElBQUlhLE9BQU8sQ0FBQyxTQUFVZCxDQUFDO1lBQUlFLE9BQU9nQixjQUFjLENBQUNuQixHQUFHQyxH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LEtBQUssR0FBRztZQUNyRHFFLFVBQVU7WUFDVjNGLE1BQU0wRSxLQUFLcEQsS0FBSztRQUNsQjtRQUNBLE1BQU1xRixjQUFjaEQsV0FBV1AsV0FBVztRQUMxQyxPQUFPLGFBQWEsR0FBRTVGLHNEQUFHQSxDQUFDbUosYUFBYW5NLGNBQWMsQ0FBQyxHQUFHa00sY0FBY3pMO0lBQ3pFO0lBQ0EsU0FBU2lLLGtCQUFrQlIsSUFBSSxFQUFFQyxLQUFLLEVBQUUxSixHQUFHLEVBQUVtRyxRQUFRO1FBQ25ELE1BQU1zRixjQUFjO1lBQ2xCeEwsT0FBT3dKO1lBQ1B0RDtZQUNBdUQ7WUFDQUw7UUFDRjtRQUNBLE1BQU1zQyxPQUFPakQsV0FBV3pGLEtBQUssQ0FBQ3dHLEtBQUtwRCxLQUFLLENBQUM7UUFDekMsT0FBT3NGLE9BQU8sYUFBYSxHQUFFcEosc0RBQUdBLENBQUNvSixNQUFNcE0sY0FBYyxDQUFDLEdBQUdrTSxjQUFjekwsT0FBTztJQUNoRjtJQUNBLE9BQU9xSjtBQUNUO0FBQ0EsU0FBU2lCLGVBQWVYLE9BQU87SUFDN0IsTUFBTSxFQUNKRixJQUFJLEVBQ0pDLEtBQUssRUFDTHZELFFBQVEsRUFDUmtELFVBQVUsRUFDWCxHQUFHTTtJQUNKLE1BQU1VLE9BQU9oSSxxRUFBY0EsQ0FBQ29IO0lBQzVCLE1BQU1qRyxXQUFXNkcsS0FBS2IsR0FBRyxDQUFDLENBQUNvQixPQUFPckosSUFBTThILFdBQVc7WUFDakRJLE1BQU1tQjtZQUNOekUsVUFBVTtZQUNWdUQsT0FBT25JO1lBQ1A4SDtRQUNGO0lBQ0EsT0FBTztRQUNMTyxNQUFNSCxLQUFLRyxJQUFJLElBQUksU0FBUzNFLE1BQU0sQ0FBQ3lFO1FBQ25DbEc7UUFDQWtHO1FBQ0F2RDtRQUNBc0Q7SUFDRjtBQUNGO0FBQ0EsU0FBU1QsUUFBUTtBQUMyQyxDQUM1RCxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaW1wbGUtYmxvZy1zdHlsZWQtdGVtcGxhdGUtZm9yLWhlYWRsZXNzLWNtcy8uL25vZGVfbW9kdWxlcy9AcG9ydGFibGV0ZXh0L3JlYWN0L2Rpc3QvaW5kZXguanM/YmZjYSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfZXhjbHVkZWQgPSBbXCJibG9ja1wiLCBcImxpc3RcIiwgXCJsaXN0SXRlbVwiLCBcIm1hcmtzXCIsIFwidHlwZXNcIl0sXG4gIF9leGNsdWRlZDIgPSBbXCJsaXN0SXRlbVwiXSxcbiAgX2V4Y2x1ZGVkMyA9IFtcIl9rZXlcIl07XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gdHlwZW9mIGtleSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKHR5cGVvZiBpbnB1dCAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7IGlmICh0eXBlb2YgcmVzICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuaW1wb3J0IHsgbmVzdExpc3RzLCBMSVNUX05FU1RfTU9ERV9IVE1MLCBpc1BvcnRhYmxlVGV4dFRvb2xraXRMaXN0LCBpc1BvcnRhYmxlVGV4dExpc3RJdGVtQmxvY2ssIGlzUG9ydGFibGVUZXh0VG9vbGtpdFNwYW4sIGlzUG9ydGFibGVUZXh0QmxvY2ssIGlzUG9ydGFibGVUZXh0VG9vbGtpdFRleHROb2RlLCBzcGFuVG9QbGFpblRleHQsIGJ1aWxkTWFya3NUcmVlIH0gZnJvbSAnQHBvcnRhYmxldGV4dC90b29sa2l0JztcbmV4cG9ydCB7IHRvUGxhaW5UZXh0IH0gZnJvbSAnQHBvcnRhYmxldGV4dC90b29sa2l0JztcbmltcG9ydCB7IGpzeCwgRnJhZ21lbnQgfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuZnVuY3Rpb24gbWVyZ2VDb21wb25lbnRzKHBhcmVudCwgb3ZlcnJpZGVzKSB7XG4gIGNvbnN0IHtcbiAgICAgIGJsb2NrLFxuICAgICAgbGlzdCxcbiAgICAgIGxpc3RJdGVtLFxuICAgICAgbWFya3MsXG4gICAgICB0eXBlc1xuICAgIH0gPSBvdmVycmlkZXMsXG4gICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvdmVycmlkZXMsIF9leGNsdWRlZCk7XG4gIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhcmVudCksIHt9LCB7XG4gICAgYmxvY2s6IG1lcmdlRGVlcGx5KHBhcmVudCwgb3ZlcnJpZGVzLCBcImJsb2NrXCIpLFxuICAgIGxpc3Q6IG1lcmdlRGVlcGx5KHBhcmVudCwgb3ZlcnJpZGVzLCBcImxpc3RcIiksXG4gICAgbGlzdEl0ZW06IG1lcmdlRGVlcGx5KHBhcmVudCwgb3ZlcnJpZGVzLCBcImxpc3RJdGVtXCIpLFxuICAgIG1hcmtzOiBtZXJnZURlZXBseShwYXJlbnQsIG92ZXJyaWRlcywgXCJtYXJrc1wiKSxcbiAgICB0eXBlczogbWVyZ2VEZWVwbHkocGFyZW50LCBvdmVycmlkZXMsIFwidHlwZXNcIilcbiAgfSwgcmVzdCk7XG59XG5mdW5jdGlvbiBtZXJnZURlZXBseShwYXJlbnQsIG92ZXJyaWRlcywga2V5KSB7XG4gIGNvbnN0IG92ZXJyaWRlID0gb3ZlcnJpZGVzW2tleV07XG4gIGNvbnN0IHBhcmVudFZhbCA9IHBhcmVudFtrZXldO1xuICBpZiAodHlwZW9mIG92ZXJyaWRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gb3ZlcnJpZGU7XG4gIH1cbiAgaWYgKG92ZXJyaWRlICYmIHR5cGVvZiBwYXJlbnRWYWwgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBvdmVycmlkZTtcbiAgfVxuICBpZiAob3ZlcnJpZGUpIHtcbiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJlbnRWYWwpLCBvdmVycmlkZSk7XG4gIH1cbiAgcmV0dXJuIHBhcmVudFZhbDtcbn1cbmNvbnN0IGxpbmsgPSBfcmVmID0+IHtcbiAgbGV0IHtcbiAgICBjaGlsZHJlbixcbiAgICB2YWx1ZVxuICB9ID0gX3JlZjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImFcIiwge1xuICAgIGhyZWY6IHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS5ocmVmLFxuICAgIGNoaWxkcmVuXG4gIH0pO1xufTtcbmNvbnN0IHVuZGVybGluZVN0eWxlID0ge1xuICB0ZXh0RGVjb3JhdGlvbjogXCJ1bmRlcmxpbmVcIlxufTtcbmNvbnN0IGRlZmF1bHRNYXJrcyA9IHtcbiAgZW06IF9yZWYyID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjI7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImVtXCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIHN0cm9uZzogX3JlZjMgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMztcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwic3Ryb25nXCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIGNvZGU6IF9yZWY0ID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjQ7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImNvZGVcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgdW5kZXJsaW5lOiBfcmVmNSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWY1O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJzcGFuXCIsIHtcbiAgICAgIHN0eWxlOiB1bmRlcmxpbmVTdHlsZSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIFwic3RyaWtlLXRocm91Z2hcIjogX3JlZjYgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmNjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiZGVsXCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIGxpbmtcbn07XG5jb25zdCBkZWZhdWx0TGlzdHMgPSB7XG4gIG51bWJlcjogX3JlZjcgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmNztcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwib2xcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgYnVsbGV0OiBfcmVmOCA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWY4O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJ1bFwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9XG59O1xuY29uc3QgRGVmYXVsdExpc3RJdGVtID0gX3JlZjkgPT4ge1xuICBsZXQge1xuICAgIGNoaWxkcmVuXG4gIH0gPSBfcmVmOTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImxpXCIsIHtcbiAgICBjaGlsZHJlblxuICB9KTtcbn07XG5jb25zdCBnZXRUZW1wbGF0ZSA9ICh0eXBlLCBwcm9wKSA9PiBcIltAcG9ydGFibGV0ZXh0L3JlYWN0XSBVbmtub3duIFwiLmNvbmNhdCh0eXBlLCBcIiwgc3BlY2lmeSBhIGNvbXBvbmVudCBmb3IgaXQgaW4gdGhlIGBjb21wb25lbnRzLlwiKS5jb25jYXQocHJvcCwgXCJgIHByb3BcIik7XG5jb25zdCB1bmtub3duVHlwZVdhcm5pbmcgPSB0eXBlTmFtZSA9PiBnZXRUZW1wbGF0ZSgnYmxvY2sgdHlwZSBcIicuY29uY2F0KHR5cGVOYW1lLCAnXCInKSwgXCJ0eXBlc1wiKTtcbmNvbnN0IHVua25vd25NYXJrV2FybmluZyA9IG1hcmtUeXBlID0+IGdldFRlbXBsYXRlKCdtYXJrIHR5cGUgXCInLmNvbmNhdChtYXJrVHlwZSwgJ1wiJyksIFwibWFya3NcIik7XG5jb25zdCB1bmtub3duQmxvY2tTdHlsZVdhcm5pbmcgPSBibG9ja1N0eWxlID0+IGdldFRlbXBsYXRlKCdibG9jayBzdHlsZSBcIicuY29uY2F0KGJsb2NrU3R5bGUsICdcIicpLCBcImJsb2NrXCIpO1xuY29uc3QgdW5rbm93bkxpc3RTdHlsZVdhcm5pbmcgPSBsaXN0U3R5bGUgPT4gZ2V0VGVtcGxhdGUoJ2xpc3Qgc3R5bGUgXCInLmNvbmNhdChsaXN0U3R5bGUsICdcIicpLCBcImxpc3RcIik7XG5jb25zdCB1bmtub3duTGlzdEl0ZW1TdHlsZVdhcm5pbmcgPSBsaXN0U3R5bGUgPT4gZ2V0VGVtcGxhdGUoJ2xpc3QgaXRlbSBzdHlsZSBcIicuY29uY2F0KGxpc3RTdHlsZSwgJ1wiJyksIFwibGlzdEl0ZW1cIik7XG5mdW5jdGlvbiBwcmludFdhcm5pbmcobWVzc2FnZSkge1xuICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG59XG5jb25zdCBoaWRkZW4gPSB7XG4gIGRpc3BsYXk6IFwibm9uZVwiXG59O1xuY29uc3QgRGVmYXVsdFVua25vd25UeXBlID0gX3JlZjEwID0+IHtcbiAgbGV0IHtcbiAgICB2YWx1ZSxcbiAgICBpc0lubGluZVxuICB9ID0gX3JlZjEwO1xuICBjb25zdCB3YXJuaW5nID0gdW5rbm93blR5cGVXYXJuaW5nKHZhbHVlLl90eXBlKTtcbiAgcmV0dXJuIGlzSW5saW5lID8gLyogQF9fUFVSRV9fICovanN4KFwic3BhblwiLCB7XG4gICAgc3R5bGU6IGhpZGRlbixcbiAgICBjaGlsZHJlbjogd2FybmluZ1xuICB9KSA6IC8qIEBfX1BVUkVfXyAqL2pzeChcImRpdlwiLCB7XG4gICAgc3R5bGU6IGhpZGRlbixcbiAgICBjaGlsZHJlbjogd2FybmluZ1xuICB9KTtcbn07XG5jb25zdCBEZWZhdWx0VW5rbm93bk1hcmsgPSBfcmVmMTEgPT4ge1xuICBsZXQge1xuICAgIG1hcmtUeXBlLFxuICAgIGNoaWxkcmVuXG4gIH0gPSBfcmVmMTE7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidW5rbm93bl9fcHRfX21hcmtfX1wiLmNvbmNhdChtYXJrVHlwZSksXG4gICAgY2hpbGRyZW5cbiAgfSk7XG59O1xuY29uc3QgRGVmYXVsdFVua25vd25CbG9ja1N0eWxlID0gX3JlZjEyID0+IHtcbiAgbGV0IHtcbiAgICBjaGlsZHJlblxuICB9ID0gX3JlZjEyO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwicFwiLCB7XG4gICAgY2hpbGRyZW5cbiAgfSk7XG59O1xuY29uc3QgRGVmYXVsdFVua25vd25MaXN0ID0gX3JlZjEzID0+IHtcbiAgbGV0IHtcbiAgICBjaGlsZHJlblxuICB9ID0gX3JlZjEzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwidWxcIiwge1xuICAgIGNoaWxkcmVuXG4gIH0pO1xufTtcbmNvbnN0IERlZmF1bHRVbmtub3duTGlzdEl0ZW0gPSBfcmVmMTQgPT4ge1xuICBsZXQge1xuICAgIGNoaWxkcmVuXG4gIH0gPSBfcmVmMTQ7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJsaVwiLCB7XG4gICAgY2hpbGRyZW5cbiAgfSk7XG59O1xuY29uc3QgRGVmYXVsdEhhcmRCcmVhayA9ICgpID0+IC8qIEBfX1BVUkVfXyAqL2pzeChcImJyXCIsIHt9KTtcbmNvbnN0IGRlZmF1bHRCbG9ja1N0eWxlcyA9IHtcbiAgbm9ybWFsOiBfcmVmMTUgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMTU7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcInBcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgYmxvY2txdW90ZTogX3JlZjE2ID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjE2O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJibG9ja3F1b3RlXCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIGgxOiBfcmVmMTcgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMTc7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImgxXCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIGgyOiBfcmVmMTggPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMTg7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImgyXCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIGgzOiBfcmVmMTkgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMTk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImgzXCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIGg0OiBfcmVmMjAgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMjA7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImg0XCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIGg1OiBfcmVmMjEgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMjE7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImg1XCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIGg2OiBfcmVmMjIgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMjI7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImg2XCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH1cbn07XG5jb25zdCBkZWZhdWx0Q29tcG9uZW50cyA9IHtcbiAgdHlwZXM6IHt9LFxuICBibG9jazogZGVmYXVsdEJsb2NrU3R5bGVzLFxuICBtYXJrczogZGVmYXVsdE1hcmtzLFxuICBsaXN0OiBkZWZhdWx0TGlzdHMsXG4gIGxpc3RJdGVtOiBEZWZhdWx0TGlzdEl0ZW0sXG4gIGhhcmRCcmVhazogRGVmYXVsdEhhcmRCcmVhayxcbiAgdW5rbm93blR5cGU6IERlZmF1bHRVbmtub3duVHlwZSxcbiAgdW5rbm93bk1hcms6IERlZmF1bHRVbmtub3duTWFyayxcbiAgdW5rbm93bkxpc3Q6IERlZmF1bHRVbmtub3duTGlzdCxcbiAgdW5rbm93bkxpc3RJdGVtOiBEZWZhdWx0VW5rbm93bkxpc3RJdGVtLFxuICB1bmtub3duQmxvY2tTdHlsZTogRGVmYXVsdFVua25vd25CbG9ja1N0eWxlXG59O1xuZnVuY3Rpb24gUG9ydGFibGVUZXh0KF9yZWYyMykge1xuICBsZXQge1xuICAgIHZhbHVlOiBpbnB1dCxcbiAgICBjb21wb25lbnRzOiBjb21wb25lbnRPdmVycmlkZXMsXG4gICAgbGlzdE5lc3RpbmdNb2RlLFxuICAgIG9uTWlzc2luZ0NvbXBvbmVudDogbWlzc2luZ0NvbXBvbmVudEhhbmRsZXIgPSBwcmludFdhcm5pbmdcbiAgfSA9IF9yZWYyMztcbiAgY29uc3QgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCA9IG1pc3NpbmdDb21wb25lbnRIYW5kbGVyIHx8IG5vb3A7XG4gIGNvbnN0IGJsb2NrcyA9IEFycmF5LmlzQXJyYXkoaW5wdXQpID8gaW5wdXQgOiBbaW5wdXRdO1xuICBjb25zdCBuZXN0ZWQgPSBuZXN0TGlzdHMoYmxvY2tzLCBsaXN0TmVzdGluZ01vZGUgfHwgTElTVF9ORVNUX01PREVfSFRNTCk7XG4gIGNvbnN0IGNvbXBvbmVudHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gY29tcG9uZW50T3ZlcnJpZGVzID8gbWVyZ2VDb21wb25lbnRzKGRlZmF1bHRDb21wb25lbnRzLCBjb21wb25lbnRPdmVycmlkZXMpIDogZGVmYXVsdENvbXBvbmVudHM7XG4gIH0sIFtjb21wb25lbnRPdmVycmlkZXNdKTtcbiAgY29uc3QgcmVuZGVyTm9kZSA9IHVzZU1lbW8oKCkgPT4gZ2V0Tm9kZVJlbmRlcmVyKGNvbXBvbmVudHMsIGhhbmRsZU1pc3NpbmdDb21wb25lbnQpLCBbY29tcG9uZW50cywgaGFuZGxlTWlzc2luZ0NvbXBvbmVudF0pO1xuICBjb25zdCByZW5kZXJlZCA9IG5lc3RlZC5tYXAoKG5vZGUsIGluZGV4KSA9PiByZW5kZXJOb2RlKHtcbiAgICBub2RlLFxuICAgIGluZGV4LFxuICAgIGlzSW5saW5lOiBmYWxzZSxcbiAgICByZW5kZXJOb2RlXG4gIH0pKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChGcmFnbWVudCwge1xuICAgIGNoaWxkcmVuOiByZW5kZXJlZFxuICB9KTtcbn1cbmNvbnN0IGdldE5vZGVSZW5kZXJlciA9IChjb21wb25lbnRzLCBoYW5kbGVNaXNzaW5nQ29tcG9uZW50KSA9PiB7XG4gIGZ1bmN0aW9uIHJlbmRlck5vZGUob3B0aW9ucykge1xuICAgIGNvbnN0IHtcbiAgICAgIG5vZGUsXG4gICAgICBpbmRleCxcbiAgICAgIGlzSW5saW5lXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgY29uc3Qga2V5ID0gbm9kZS5fa2V5IHx8IFwibm9kZS1cIi5jb25jYXQoaW5kZXgpO1xuICAgIGlmIChpc1BvcnRhYmxlVGV4dFRvb2xraXRMaXN0KG5vZGUpKSB7XG4gICAgICByZXR1cm4gcmVuZGVyTGlzdChub2RlLCBpbmRleCwga2V5KTtcbiAgICB9XG4gICAgaWYgKGlzUG9ydGFibGVUZXh0TGlzdEl0ZW1CbG9jayhub2RlKSkge1xuICAgICAgcmV0dXJuIHJlbmRlckxpc3RJdGVtKG5vZGUsIGluZGV4LCBrZXkpO1xuICAgIH1cbiAgICBpZiAoaXNQb3J0YWJsZVRleHRUb29sa2l0U3Bhbihub2RlKSkge1xuICAgICAgcmV0dXJuIHJlbmRlclNwYW4obm9kZSwgaW5kZXgsIGtleSk7XG4gICAgfVxuICAgIGlmIChoYXNDdXN0b21Db21wb25lbnRGb3JOb2RlKG5vZGUpKSB7XG4gICAgICByZXR1cm4gcmVuZGVyQ3VzdG9tQmxvY2sobm9kZSwgaW5kZXgsIGtleSwgaXNJbmxpbmUpO1xuICAgIH1cbiAgICBpZiAoaXNQb3J0YWJsZVRleHRCbG9jayhub2RlKSkge1xuICAgICAgcmV0dXJuIHJlbmRlckJsb2NrKG5vZGUsIGluZGV4LCBrZXksIGlzSW5saW5lKTtcbiAgICB9XG4gICAgaWYgKGlzUG9ydGFibGVUZXh0VG9vbGtpdFRleHROb2RlKG5vZGUpKSB7XG4gICAgICByZXR1cm4gcmVuZGVyVGV4dChub2RlLCBrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyVW5rbm93blR5cGUobm9kZSwgaW5kZXgsIGtleSwgaXNJbmxpbmUpO1xuICB9XG4gIGZ1bmN0aW9uIGhhc0N1c3RvbUNvbXBvbmVudEZvck5vZGUobm9kZSkge1xuICAgIHJldHVybiBub2RlLl90eXBlIGluIGNvbXBvbmVudHMudHlwZXM7XG4gIH1cbiAgZnVuY3Rpb24gcmVuZGVyTGlzdEl0ZW0obm9kZSwgaW5kZXgsIGtleSkge1xuICAgIGNvbnN0IHRyZWUgPSBzZXJpYWxpemVCbG9jayh7XG4gICAgICBub2RlLFxuICAgICAgaW5kZXgsXG4gICAgICBpc0lubGluZTogZmFsc2UsXG4gICAgICByZW5kZXJOb2RlXG4gICAgfSk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBjb21wb25lbnRzLmxpc3RJdGVtO1xuICAgIGNvbnN0IGhhbmRsZXIgPSB0eXBlb2YgcmVuZGVyZXIgPT09IFwiZnVuY3Rpb25cIiA/IHJlbmRlcmVyIDogcmVuZGVyZXJbbm9kZS5saXN0SXRlbV07XG4gICAgY29uc3QgTGkgPSBoYW5kbGVyIHx8IGNvbXBvbmVudHMudW5rbm93bkxpc3RJdGVtO1xuICAgIGlmIChMaSA9PT0gY29tcG9uZW50cy51bmtub3duTGlzdEl0ZW0pIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gbm9kZS5saXN0SXRlbSB8fCBcImJ1bGxldFwiO1xuICAgICAgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCh1bmtub3duTGlzdEl0ZW1TdHlsZVdhcm5pbmcoc3R5bGUpLCB7XG4gICAgICAgIHR5cGU6IHN0eWxlLFxuICAgICAgICBub2RlVHlwZTogXCJsaXN0SXRlbVN0eWxlXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgY2hpbGRyZW4gPSB0cmVlLmNoaWxkcmVuO1xuICAgIGlmIChub2RlLnN0eWxlICYmIG5vZGUuc3R5bGUgIT09IFwibm9ybWFsXCIpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgICBsaXN0SXRlbVxuICAgICAgICB9ID0gbm9kZSxcbiAgICAgICAgYmxvY2tOb2RlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG5vZGUsIF9leGNsdWRlZDIpO1xuICAgICAgY2hpbGRyZW4gPSByZW5kZXJOb2RlKHtcbiAgICAgICAgbm9kZTogYmxvY2tOb2RlLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgaXNJbmxpbmU6IGZhbHNlLFxuICAgICAgICByZW5kZXJOb2RlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChMaSwge1xuICAgICAgdmFsdWU6IG5vZGUsXG4gICAgICBpbmRleCxcbiAgICAgIGlzSW5saW5lOiBmYWxzZSxcbiAgICAgIHJlbmRlck5vZGUsXG4gICAgICBjaGlsZHJlblxuICAgIH0sIGtleSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVuZGVyTGlzdChub2RlLCBpbmRleCwga2V5KSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuLm1hcCgoY2hpbGQsIGNoaWxkSW5kZXgpID0+IHJlbmRlck5vZGUoe1xuICAgICAgbm9kZTogY2hpbGQuX2tleSA/IGNoaWxkIDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjaGlsZCksIHt9LCB7XG4gICAgICAgIF9rZXk6IFwibGktXCIuY29uY2F0KGluZGV4LCBcIi1cIikuY29uY2F0KGNoaWxkSW5kZXgpXG4gICAgICB9KSxcbiAgICAgIGluZGV4OiBjaGlsZEluZGV4LFxuICAgICAgaXNJbmxpbmU6IGZhbHNlLFxuICAgICAgcmVuZGVyTm9kZVxuICAgIH0pKTtcbiAgICBjb25zdCBjb21wb25lbnQgPSBjb21wb25lbnRzLmxpc3Q7XG4gICAgY29uc3QgaGFuZGxlciA9IHR5cGVvZiBjb21wb25lbnQgPT09IFwiZnVuY3Rpb25cIiA/IGNvbXBvbmVudCA6IGNvbXBvbmVudFtub2RlLmxpc3RJdGVtXTtcbiAgICBjb25zdCBMaXN0ID0gaGFuZGxlciB8fCBjb21wb25lbnRzLnVua25vd25MaXN0O1xuICAgIGlmIChMaXN0ID09PSBjb21wb25lbnRzLnVua25vd25MaXN0KSB7XG4gICAgICBjb25zdCBzdHlsZSA9IG5vZGUubGlzdEl0ZW0gfHwgXCJidWxsZXRcIjtcbiAgICAgIGhhbmRsZU1pc3NpbmdDb21wb25lbnQodW5rbm93bkxpc3RTdHlsZVdhcm5pbmcoc3R5bGUpLCB7XG4gICAgICAgIG5vZGVUeXBlOiBcImxpc3RTdHlsZVwiLFxuICAgICAgICB0eXBlOiBzdHlsZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goTGlzdCwge1xuICAgICAgdmFsdWU6IG5vZGUsXG4gICAgICBpbmRleCxcbiAgICAgIGlzSW5saW5lOiBmYWxzZSxcbiAgICAgIHJlbmRlck5vZGUsXG4gICAgICBjaGlsZHJlblxuICAgIH0sIGtleSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVuZGVyU3Bhbihub2RlLCBfaW5kZXgsIGtleSkge1xuICAgIGNvbnN0IHtcbiAgICAgIG1hcmtEZWYsXG4gICAgICBtYXJrVHlwZSxcbiAgICAgIG1hcmtLZXlcbiAgICB9ID0gbm9kZTtcbiAgICBjb25zdCBTcGFuID0gY29tcG9uZW50cy5tYXJrc1ttYXJrVHlwZV0gfHwgY29tcG9uZW50cy51bmtub3duTWFyaztcbiAgICBjb25zdCBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4ubWFwKChjaGlsZCwgY2hpbGRJbmRleCkgPT4gcmVuZGVyTm9kZSh7XG4gICAgICBub2RlOiBjaGlsZCxcbiAgICAgIGluZGV4OiBjaGlsZEluZGV4LFxuICAgICAgaXNJbmxpbmU6IHRydWUsXG4gICAgICByZW5kZXJOb2RlXG4gICAgfSkpO1xuICAgIGlmIChTcGFuID09PSBjb21wb25lbnRzLnVua25vd25NYXJrKSB7XG4gICAgICBoYW5kbGVNaXNzaW5nQ29tcG9uZW50KHVua25vd25NYXJrV2FybmluZyhtYXJrVHlwZSksIHtcbiAgICAgICAgbm9kZVR5cGU6IFwibWFya1wiLFxuICAgICAgICB0eXBlOiBtYXJrVHlwZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goU3Bhbiwge1xuICAgICAgdGV4dDogc3BhblRvUGxhaW5UZXh0KG5vZGUpLFxuICAgICAgdmFsdWU6IG1hcmtEZWYsXG4gICAgICBtYXJrVHlwZSxcbiAgICAgIG1hcmtLZXksXG4gICAgICByZW5kZXJOb2RlLFxuICAgICAgY2hpbGRyZW5cbiAgICB9LCBrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlckJsb2NrKG5vZGUsIGluZGV4LCBrZXksIGlzSW5saW5lKSB7XG4gICAgY29uc3QgX3NlcmlhbGl6ZUJsb2NrID0gc2VyaWFsaXplQmxvY2soe1xuICAgICAgICBub2RlLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgaXNJbmxpbmUsXG4gICAgICAgIHJlbmRlck5vZGVcbiAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBfa2V5XG4gICAgICB9ID0gX3NlcmlhbGl6ZUJsb2NrLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3NlcmlhbGl6ZUJsb2NrLCBfZXhjbHVkZWQzKTtcbiAgICBjb25zdCBzdHlsZSA9IHByb3BzLm5vZGUuc3R5bGUgfHwgXCJub3JtYWxcIjtcbiAgICBjb25zdCBoYW5kbGVyID0gdHlwZW9mIGNvbXBvbmVudHMuYmxvY2sgPT09IFwiZnVuY3Rpb25cIiA/IGNvbXBvbmVudHMuYmxvY2sgOiBjb21wb25lbnRzLmJsb2NrW3N0eWxlXTtcbiAgICBjb25zdCBCbG9jayA9IGhhbmRsZXIgfHwgY29tcG9uZW50cy51bmtub3duQmxvY2tTdHlsZTtcbiAgICBpZiAoQmxvY2sgPT09IGNvbXBvbmVudHMudW5rbm93bkJsb2NrU3R5bGUpIHtcbiAgICAgIGhhbmRsZU1pc3NpbmdDb21wb25lbnQodW5rbm93bkJsb2NrU3R5bGVXYXJuaW5nKHN0eWxlKSwge1xuICAgICAgICBub2RlVHlwZTogXCJibG9ja1N0eWxlXCIsXG4gICAgICAgIHR5cGU6IHN0eWxlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChCbG9jaywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcyksIHt9LCB7XG4gICAgICB2YWx1ZTogcHJvcHMubm9kZSxcbiAgICAgIHJlbmRlck5vZGVcbiAgICB9KSwga2V5KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJUZXh0KG5vZGUsIGtleSkge1xuICAgIGlmIChub2RlLnRleHQgPT09IFwiXFxuXCIpIHtcbiAgICAgIGNvbnN0IEhhcmRCcmVhayA9IGNvbXBvbmVudHMuaGFyZEJyZWFrO1xuICAgICAgcmV0dXJuIEhhcmRCcmVhayA/IC8qIEBfX1BVUkVfXyAqL2pzeChIYXJkQnJlYWssIHt9LCBrZXkpIDogXCJcXG5cIjtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUudGV4dDtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJVbmtub3duVHlwZShub2RlLCBpbmRleCwga2V5LCBpc0lubGluZSkge1xuICAgIGNvbnN0IG5vZGVPcHRpb25zID0ge1xuICAgICAgdmFsdWU6IG5vZGUsXG4gICAgICBpc0lubGluZSxcbiAgICAgIGluZGV4LFxuICAgICAgcmVuZGVyTm9kZVxuICAgIH07XG4gICAgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCh1bmtub3duVHlwZVdhcm5pbmcobm9kZS5fdHlwZSksIHtcbiAgICAgIG5vZGVUeXBlOiBcImJsb2NrXCIsXG4gICAgICB0eXBlOiBub2RlLl90eXBlXG4gICAgfSk7XG4gICAgY29uc3QgVW5rbm93blR5cGUgPSBjb21wb25lbnRzLnVua25vd25UeXBlO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goVW5rbm93blR5cGUsIF9vYmplY3RTcHJlYWQoe30sIG5vZGVPcHRpb25zKSwga2V5KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJDdXN0b21CbG9jayhub2RlLCBpbmRleCwga2V5LCBpc0lubGluZSkge1xuICAgIGNvbnN0IG5vZGVPcHRpb25zID0ge1xuICAgICAgdmFsdWU6IG5vZGUsXG4gICAgICBpc0lubGluZSxcbiAgICAgIGluZGV4LFxuICAgICAgcmVuZGVyTm9kZVxuICAgIH07XG4gICAgY29uc3QgTm9kZSA9IGNvbXBvbmVudHMudHlwZXNbbm9kZS5fdHlwZV07XG4gICAgcmV0dXJuIE5vZGUgPyAvKiBAX19QVVJFX18gKi9qc3goTm9kZSwgX29iamVjdFNwcmVhZCh7fSwgbm9kZU9wdGlvbnMpLCBrZXkpIDogbnVsbDtcbiAgfVxuICByZXR1cm4gcmVuZGVyTm9kZTtcbn07XG5mdW5jdGlvbiBzZXJpYWxpemVCbG9jayhvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBub2RlLFxuICAgIGluZGV4LFxuICAgIGlzSW5saW5lLFxuICAgIHJlbmRlck5vZGVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHRyZWUgPSBidWlsZE1hcmtzVHJlZShub2RlKTtcbiAgY29uc3QgY2hpbGRyZW4gPSB0cmVlLm1hcCgoY2hpbGQsIGkpID0+IHJlbmRlck5vZGUoe1xuICAgIG5vZGU6IGNoaWxkLFxuICAgIGlzSW5saW5lOiB0cnVlLFxuICAgIGluZGV4OiBpLFxuICAgIHJlbmRlck5vZGVcbiAgfSkpO1xuICByZXR1cm4ge1xuICAgIF9rZXk6IG5vZGUuX2tleSB8fCBcImJsb2NrLVwiLmNvbmNhdChpbmRleCksXG4gICAgY2hpbGRyZW4sXG4gICAgaW5kZXgsXG4gICAgaXNJbmxpbmUsXG4gICAgbm9kZVxuICB9O1xufVxuZnVuY3Rpb24gbm9vcCgpIHt9XG5leHBvcnQgeyBQb3J0YWJsZVRleHQsIGRlZmF1bHRDb21wb25lbnRzLCBtZXJnZUNvbXBvbmVudHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9leGNsdWRlZCIsIl9leGNsdWRlZDIiLCJfZXhjbHVkZWQzIiwib3duS2V5cyIsImUiLCJyIiwidCIsIk9iamVjdCIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJvIiwiZmlsdGVyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsIm9iaiIsImtleSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFyZyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsInJlcyIsImNhbGwiLCJUeXBlRXJyb3IiLCJOdW1iZXIiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJzb3VyY2UiLCJleGNsdWRlZCIsInRhcmdldCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwiaSIsInNvdXJjZVN5bWJvbEtleXMiLCJpbmRleE9mIiwicHJvdG90eXBlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzb3VyY2VLZXlzIiwibmVzdExpc3RzIiwiTElTVF9ORVNUX01PREVfSFRNTCIsImlzUG9ydGFibGVUZXh0VG9vbGtpdExpc3QiLCJpc1BvcnRhYmxlVGV4dExpc3RJdGVtQmxvY2siLCJpc1BvcnRhYmxlVGV4dFRvb2xraXRTcGFuIiwiaXNQb3J0YWJsZVRleHRCbG9jayIsImlzUG9ydGFibGVUZXh0VG9vbGtpdFRleHROb2RlIiwic3BhblRvUGxhaW5UZXh0IiwiYnVpbGRNYXJrc1RyZWUiLCJ0b1BsYWluVGV4dCIsImpzeCIsIkZyYWdtZW50IiwidXNlTWVtbyIsIm1lcmdlQ29tcG9uZW50cyIsInBhcmVudCIsIm92ZXJyaWRlcyIsImJsb2NrIiwibGlzdCIsImxpc3RJdGVtIiwibWFya3MiLCJ0eXBlcyIsInJlc3QiLCJtZXJnZURlZXBseSIsIm92ZXJyaWRlIiwicGFyZW50VmFsIiwibGluayIsIl9yZWYiLCJjaGlsZHJlbiIsImhyZWYiLCJ1bmRlcmxpbmVTdHlsZSIsInRleHREZWNvcmF0aW9uIiwiZGVmYXVsdE1hcmtzIiwiZW0iLCJfcmVmMiIsInN0cm9uZyIsIl9yZWYzIiwiY29kZSIsIl9yZWY0IiwidW5kZXJsaW5lIiwiX3JlZjUiLCJzdHlsZSIsIl9yZWY2IiwiZGVmYXVsdExpc3RzIiwibnVtYmVyIiwiX3JlZjciLCJidWxsZXQiLCJfcmVmOCIsIkRlZmF1bHRMaXN0SXRlbSIsIl9yZWY5IiwiZ2V0VGVtcGxhdGUiLCJ0eXBlIiwicHJvcCIsImNvbmNhdCIsInVua25vd25UeXBlV2FybmluZyIsInR5cGVOYW1lIiwidW5rbm93bk1hcmtXYXJuaW5nIiwibWFya1R5cGUiLCJ1bmtub3duQmxvY2tTdHlsZVdhcm5pbmciLCJibG9ja1N0eWxlIiwidW5rbm93bkxpc3RTdHlsZVdhcm5pbmciLCJsaXN0U3R5bGUiLCJ1bmtub3duTGlzdEl0ZW1TdHlsZVdhcm5pbmciLCJwcmludFdhcm5pbmciLCJtZXNzYWdlIiwiY29uc29sZSIsIndhcm4iLCJoaWRkZW4iLCJkaXNwbGF5IiwiRGVmYXVsdFVua25vd25UeXBlIiwiX3JlZjEwIiwiaXNJbmxpbmUiLCJ3YXJuaW5nIiwiX3R5cGUiLCJEZWZhdWx0VW5rbm93bk1hcmsiLCJfcmVmMTEiLCJjbGFzc05hbWUiLCJEZWZhdWx0VW5rbm93bkJsb2NrU3R5bGUiLCJfcmVmMTIiLCJEZWZhdWx0VW5rbm93bkxpc3QiLCJfcmVmMTMiLCJEZWZhdWx0VW5rbm93bkxpc3RJdGVtIiwiX3JlZjE0IiwiRGVmYXVsdEhhcmRCcmVhayIsImRlZmF1bHRCbG9ja1N0eWxlcyIsIm5vcm1hbCIsIl9yZWYxNSIsImJsb2NrcXVvdGUiLCJfcmVmMTYiLCJoMSIsIl9yZWYxNyIsImgyIiwiX3JlZjE4IiwiaDMiLCJfcmVmMTkiLCJoNCIsIl9yZWYyMCIsImg1IiwiX3JlZjIxIiwiaDYiLCJfcmVmMjIiLCJkZWZhdWx0Q29tcG9uZW50cyIsImhhcmRCcmVhayIsInVua25vd25UeXBlIiwidW5rbm93bk1hcmsiLCJ1bmtub3duTGlzdCIsInVua25vd25MaXN0SXRlbSIsInVua25vd25CbG9ja1N0eWxlIiwiUG9ydGFibGVUZXh0IiwiX3JlZjIzIiwiY29tcG9uZW50cyIsImNvbXBvbmVudE92ZXJyaWRlcyIsImxpc3ROZXN0aW5nTW9kZSIsIm9uTWlzc2luZ0NvbXBvbmVudCIsIm1pc3NpbmdDb21wb25lbnRIYW5kbGVyIiwiaGFuZGxlTWlzc2luZ0NvbXBvbmVudCIsIm5vb3AiLCJibG9ja3MiLCJBcnJheSIsImlzQXJyYXkiLCJuZXN0ZWQiLCJyZW5kZXJOb2RlIiwiZ2V0Tm9kZVJlbmRlcmVyIiwicmVuZGVyZWQiLCJtYXAiLCJub2RlIiwiaW5kZXgiLCJvcHRpb25zIiwiX2tleSIsInJlbmRlckxpc3QiLCJyZW5kZXJMaXN0SXRlbSIsInJlbmRlclNwYW4iLCJoYXNDdXN0b21Db21wb25lbnRGb3JOb2RlIiwicmVuZGVyQ3VzdG9tQmxvY2siLCJyZW5kZXJCbG9jayIsInJlbmRlclRleHQiLCJyZW5kZXJVbmtub3duVHlwZSIsInRyZWUiLCJzZXJpYWxpemVCbG9jayIsInJlbmRlcmVyIiwiaGFuZGxlciIsIkxpIiwibm9kZVR5cGUiLCJibG9ja05vZGUiLCJjaGlsZCIsImNoaWxkSW5kZXgiLCJjb21wb25lbnQiLCJMaXN0IiwiX2luZGV4IiwibWFya0RlZiIsIm1hcmtLZXkiLCJTcGFuIiwidGV4dCIsIl9zZXJpYWxpemVCbG9jayIsInByb3BzIiwiQmxvY2siLCJIYXJkQnJlYWsiLCJub2RlT3B0aW9ucyIsIlVua25vd25UeXBlIiwiTm9kZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@portabletext/react/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@portabletext/toolkit/dist/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@portabletext/toolkit/dist/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LIST_NEST_MODE_DIRECT: () => (/* binding */ LIST_NEST_MODE_DIRECT),\n/* harmony export */   LIST_NEST_MODE_HTML: () => (/* binding */ LIST_NEST_MODE_HTML),\n/* harmony export */   buildMarksTree: () => (/* binding */ buildMarksTree),\n/* harmony export */   isPortableTextBlock: () => (/* binding */ isPortableTextBlock),\n/* harmony export */   isPortableTextListItemBlock: () => (/* binding */ isPortableTextListItemBlock),\n/* harmony export */   isPortableTextSpan: () => (/* binding */ isPortableTextSpan),\n/* harmony export */   isPortableTextToolkitList: () => (/* binding */ isPortableTextToolkitList),\n/* harmony export */   isPortableTextToolkitSpan: () => (/* binding */ isPortableTextToolkitSpan),\n/* harmony export */   isPortableTextToolkitTextNode: () => (/* binding */ isPortableTextToolkitTextNode),\n/* harmony export */   nestLists: () => (/* binding */ nestLists),\n/* harmony export */   sortMarksByOccurences: () => (/* binding */ sortMarksByOccurences),\n/* harmony export */   spanToPlainText: () => (/* binding */ spanToPlainText),\n/* harmony export */   toPlainText: () => (/* binding */ toPlainText)\n/* harmony export */ });\nfunction ownKeys(e, r) {\n    var t = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n        var o = Object.getOwnPropertySymbols(e);\n        r && (o = o.filter(function(r) {\n            return Object.getOwnPropertyDescriptor(e, r).enumerable;\n        })), t.push.apply(t, o);\n    }\n    return t;\n}\nfunction _objectSpread(e) {\n    for(var r = 1; r < arguments.length; r++){\n        var t = null != arguments[r] ? arguments[r] : {};\n        r % 2 ? ownKeys(Object(t), !0).forEach(function(r) {\n            _defineProperty(e, r, t[r]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r) {\n            Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n        });\n    }\n    return e;\n}\nfunction _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n        var res = prim.call(input, hint || \"default\");\n        if (typeof res !== \"object\") return res;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n}\nfunction isPortableTextSpan(node) {\n    return node._type === \"span\" && \"text\" in node && typeof node.text === \"string\" && (typeof node.marks === \"undefined\" || Array.isArray(node.marks) && node.marks.every((mark)=>typeof mark === \"string\"));\n}\nfunction isPortableTextBlock(node) {\n    return(// A block doesn't _have_ to be named 'block' - to differentiate between\n    // allowed child types and marks, one might name them differently\n    typeof node._type === \"string\" && // Toolkit-types like nested spans are @-prefixed\n    node._type[0] !== \"@\" && // `markDefs` isn't _required_ per say, but if it's there, it needs to be an array\n    (!(\"markDefs\" in node) || !node.markDefs || Array.isArray(node.markDefs) && // Every mark definition needs to have an `_key` to be mappable in child spans\n    node.markDefs.every((def)=>typeof def._key === \"string\")) && // `children` is required and needs to be an array\n    \"children\" in node && Array.isArray(node.children) && // All children are objects with `_type` (usually spans, but can contain other stuff)\n    node.children.every((child)=>typeof child === \"object\" && \"_type\" in child));\n}\nfunction isPortableTextListItemBlock(block) {\n    return isPortableTextBlock(block) && \"listItem\" in block && typeof block.listItem === \"string\" && (typeof block.level === \"undefined\" || typeof block.level === \"number\");\n}\nfunction isPortableTextToolkitList(block) {\n    return block._type === \"@list\";\n}\nfunction isPortableTextToolkitSpan(span) {\n    return span._type === \"@span\";\n}\nfunction isPortableTextToolkitTextNode(node) {\n    return node._type === \"@text\";\n}\nconst knownDecorators = [\n    \"strong\",\n    \"em\",\n    \"code\",\n    \"underline\",\n    \"strike-through\"\n];\nfunction sortMarksByOccurences(span, index, blockChildren) {\n    if (!isPortableTextSpan(span) || !span.marks) {\n        return [];\n    }\n    if (!span.marks.length) {\n        return [];\n    }\n    const marks = span.marks.slice();\n    const occurences = {};\n    marks.forEach((mark)=>{\n        occurences[mark] = 1;\n        for(let siblingIndex = index + 1; siblingIndex < blockChildren.length; siblingIndex++){\n            const sibling = blockChildren[siblingIndex];\n            if (sibling && isPortableTextSpan(sibling) && Array.isArray(sibling.marks) && sibling.marks.indexOf(mark) !== -1) {\n                occurences[mark]++;\n            } else {\n                break;\n            }\n        }\n    });\n    return marks.sort((markA, markB)=>sortMarks(occurences, markA, markB));\n}\nfunction sortMarks(occurences, markA, markB) {\n    const aOccurences = occurences[markA];\n    const bOccurences = occurences[markB];\n    if (aOccurences !== bOccurences) {\n        return bOccurences - aOccurences;\n    }\n    const aKnownPos = knownDecorators.indexOf(markA);\n    const bKnownPos = knownDecorators.indexOf(markB);\n    if (aKnownPos !== bKnownPos) {\n        return aKnownPos - bKnownPos;\n    }\n    return markA.localeCompare(markB);\n}\nfunction buildMarksTree(block) {\n    var _a;\n    const { children, markDefs = [] } = block;\n    if (!children || !children.length) {\n        return [];\n    }\n    const sortedMarks = children.map(sortMarksByOccurences);\n    const rootNode = {\n        _type: \"@span\",\n        children: [],\n        markType: \"<unknown>\"\n    };\n    let nodeStack = [\n        rootNode\n    ];\n    for(let i = 0; i < children.length; i++){\n        const span = children[i];\n        if (!span) {\n            continue;\n        }\n        const marksNeeded = sortedMarks[i] || [];\n        let pos = 1;\n        if (nodeStack.length > 1) {\n            for(pos; pos < nodeStack.length; pos++){\n                const mark = ((_a = nodeStack[pos]) == null ? void 0 : _a.markKey) || \"\";\n                const index = marksNeeded.indexOf(mark);\n                if (index === -1) {\n                    break;\n                }\n                marksNeeded.splice(index, 1);\n            }\n        }\n        nodeStack = nodeStack.slice(0, pos);\n        let currentNode = nodeStack[nodeStack.length - 1];\n        if (!currentNode) {\n            continue;\n        }\n        for (const markKey of marksNeeded){\n            const markDef = markDefs.find((def)=>def._key === markKey);\n            const markType = markDef ? markDef._type : markKey;\n            const node = {\n                _type: \"@span\",\n                _key: span._key,\n                children: [],\n                markDef,\n                markType,\n                markKey\n            };\n            currentNode.children.push(node);\n            nodeStack.push(node);\n            currentNode = node;\n        }\n        if (isPortableTextSpan(span)) {\n            const lines = span.text.split(\"\\n\");\n            for(let line = lines.length; line-- > 1;){\n                lines.splice(line, 0, \"\\n\");\n            }\n            currentNode.children = currentNode.children.concat(lines.map((text)=>({\n                    _type: \"@text\",\n                    text\n                })));\n        } else {\n            currentNode.children = currentNode.children.concat(span);\n        }\n    }\n    return rootNode.children;\n}\nfunction nestLists(blocks, mode) {\n    const tree = [];\n    let currentList;\n    for(let i = 0; i < blocks.length; i++){\n        const block = blocks[i];\n        if (!block) {\n            continue;\n        }\n        if (!isPortableTextListItemBlock(block)) {\n            tree.push(block);\n            currentList = void 0;\n            continue;\n        }\n        if (!currentList) {\n            currentList = listFromBlock(block, i, mode);\n            tree.push(currentList);\n            continue;\n        }\n        if (blockMatchesList(block, currentList)) {\n            currentList.children.push(block);\n            continue;\n        }\n        if ((block.level || 1) > currentList.level) {\n            const newList = listFromBlock(block, i, mode);\n            if (mode === \"html\") {\n                const lastListItem = currentList.children[currentList.children.length - 1];\n                const newLastChild = _objectSpread(_objectSpread({}, lastListItem), {}, {\n                    children: [\n                        ...lastListItem.children,\n                        newList\n                    ]\n                });\n                currentList.children[currentList.children.length - 1] = newLastChild;\n            } else {\n                currentList.children.push(newList);\n            }\n            currentList = newList;\n            continue;\n        }\n        if ((block.level || 1) < currentList.level) {\n            const matchingBranch = tree[tree.length - 1];\n            const match = matchingBranch && findListMatching(matchingBranch, block);\n            if (match) {\n                currentList = match;\n                currentList.children.push(block);\n                continue;\n            }\n            currentList = listFromBlock(block, i, mode);\n            tree.push(currentList);\n            continue;\n        }\n        if (block.listItem !== currentList.listItem) {\n            const matchingBranch = tree[tree.length - 1];\n            const match = matchingBranch && findListMatching(matchingBranch, {\n                level: block.level || 1\n            });\n            if (match && match.listItem === block.listItem) {\n                currentList = match;\n                currentList.children.push(block);\n                continue;\n            } else {\n                currentList = listFromBlock(block, i, mode);\n                tree.push(currentList);\n                continue;\n            }\n        }\n        console.warn(\"Unknown state encountered for block\", block);\n        tree.push(block);\n    }\n    return tree;\n}\nfunction blockMatchesList(block, list) {\n    return (block.level || 1) === list.level && block.listItem === list.listItem;\n}\nfunction listFromBlock(block, index, mode) {\n    return {\n        _type: \"@list\",\n        _key: \"\".concat(block._key || \"\".concat(index), \"-parent\"),\n        mode,\n        level: block.level || 1,\n        listItem: block.listItem,\n        children: [\n            block\n        ]\n    };\n}\nfunction findListMatching(rootNode, matching) {\n    const level = matching.level || 1;\n    const style = matching.listItem || \"normal\";\n    const filterOnType = typeof matching.listItem === \"string\";\n    if (isPortableTextToolkitList(rootNode) && (rootNode.level || 1) === level && filterOnType && (rootNode.listItem || \"normal\") === style) {\n        return rootNode;\n    }\n    if (!(\"children\" in rootNode)) {\n        return void 0;\n    }\n    const node = rootNode.children[rootNode.children.length - 1];\n    return node && !isPortableTextSpan(node) ? findListMatching(node, matching) : void 0;\n}\nconst leadingSpace = /^\\s/;\nconst trailingSpace = /^\\s/;\nfunction toPlainText(block) {\n    const blocks = Array.isArray(block) ? block : [\n        block\n    ];\n    let text = \"\";\n    blocks.forEach((current, index)=>{\n        if (!isPortableTextBlock(current)) {\n            return;\n        }\n        let pad = false;\n        current.children.forEach((span)=>{\n            if (isPortableTextSpan(span)) {\n                text += pad && text && !trailingSpace.test(text) && !leadingSpace.test(span.text) ? \" \" : \"\";\n                text += span.text;\n                pad = false;\n            } else {\n                pad = true;\n            }\n        });\n        if (index !== blocks.length - 1) {\n            text += \"\\n\\n\";\n        }\n    });\n    return text;\n}\nfunction spanToPlainText(span) {\n    let text = \"\";\n    span.children.forEach((current)=>{\n        if (isPortableTextToolkitTextNode(current)) {\n            text += current.text;\n        } else if (isPortableTextToolkitSpan(current)) {\n            text += spanToPlainText(current);\n        }\n    });\n    return text;\n}\nconst LIST_NEST_MODE_HTML = \"html\";\nconst LIST_NEST_MODE_DIRECT = \"direct\";\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHBvcnRhYmxldGV4dC90b29sa2l0L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLFNBQVNBLFFBQVFDLENBQUMsRUFBRUMsQ0FBQztJQUFJLElBQUlDLElBQUlDLE9BQU9DLElBQUksQ0FBQ0o7SUFBSSxJQUFJRyxPQUFPRSxxQkFBcUIsRUFBRTtRQUFFLElBQUlDLElBQUlILE9BQU9FLHFCQUFxQixDQUFDTDtRQUFJQyxLQUFNSyxDQUFBQSxJQUFJQSxFQUFFQyxNQUFNLENBQUMsU0FBVU4sQ0FBQztZQUFJLE9BQU9FLE9BQU9LLHdCQUF3QixDQUFDUixHQUFHQyxHQUFHUSxVQUFVO1FBQUUsRUFBQyxHQUFJUCxFQUFFUSxJQUFJLENBQUNDLEtBQUssQ0FBQ1QsR0FBR0k7SUFBSTtJQUFFLE9BQU9KO0FBQUc7QUFDOVAsU0FBU1UsY0FBY1osQ0FBQztJQUFJLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJWSxVQUFVQyxNQUFNLEVBQUViLElBQUs7UUFBRSxJQUFJQyxJQUFJLFFBQVFXLFNBQVMsQ0FBQ1osRUFBRSxHQUFHWSxTQUFTLENBQUNaLEVBQUUsR0FBRyxDQUFDO1FBQUdBLElBQUksSUFBSUYsUUFBUUksT0FBT0QsSUFBSSxDQUFDLEdBQUdhLE9BQU8sQ0FBQyxTQUFVZCxDQUFDO1lBQUllLGdCQUFnQmhCLEdBQUdDLEdBQUdDLENBQUMsQ0FBQ0QsRUFBRTtRQUFHLEtBQUtFLE9BQU9jLHlCQUF5QixHQUFHZCxPQUFPZSxnQkFBZ0IsQ0FBQ2xCLEdBQUdHLE9BQU9jLHlCQUF5QixDQUFDZixNQUFNSCxRQUFRSSxPQUFPRCxJQUFJYSxPQUFPLENBQUMsU0FBVWQsQ0FBQztZQUFJRSxPQUFPZ0IsY0FBYyxDQUFDbkIsR0FBR0MsR0FBR0UsT0FBT0ssd0JBQXdCLENBQUNOLEdBQUdEO1FBQUs7SUFBSTtJQUFFLE9BQU9EO0FBQUc7QUFDdGIsU0FBU2dCLGdCQUFnQkksR0FBRyxF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QUFJMUQsVUFBVW9DLE9BQU90RixNQUFNLEdBQUcsR0FBRztZQUMvQjRCLFFBQVE7UUFDVjtJQUNGO0lBQ0EsT0FBT0E7QUFDVDtBQUNBLFNBQVNrRixnQkFBZ0JoRSxJQUFJO0lBQzNCLElBQUlsQixPQUFPO0lBQ1hrQixLQUFLUixRQUFRLENBQUNyQyxPQUFPLENBQUMwRyxDQUFBQTtRQUNwQixJQUFJNUQsOEJBQThCNEQsVUFBVTtZQUMxQy9FLFFBQVErRSxRQUFRL0UsSUFBSTtRQUN0QixPQUFPLElBQUlpQiwwQkFBMEI4RCxVQUFVO1lBQzdDL0UsUUFBUWtGLGdCQUFnQkg7UUFDMUI7SUFDRjtJQUNBLE9BQU8vRTtBQUNUO0FBQ0EsTUFBTW1GLHNCQUFzQjtBQUM1QixNQUFNQyx3QkFBd0I7QUFDbVEsQ0FDalMsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2ltcGxlLWJsb2ctc3R5bGVkLXRlbXBsYXRlLWZvci1oZWFkbGVzcy1jbXMvLi9ub2RlX21vZHVsZXMvQHBvcnRhYmxldGV4dC90b29sa2l0L2Rpc3QvaW5kZXguanM/YjA0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gdHlwZW9mIGtleSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKHR5cGVvZiBpbnB1dCAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7IGlmICh0eXBlb2YgcmVzICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cbmZ1bmN0aW9uIGlzUG9ydGFibGVUZXh0U3Bhbihub2RlKSB7XG4gIHJldHVybiBub2RlLl90eXBlID09PSBcInNwYW5cIiAmJiBcInRleHRcIiBpbiBub2RlICYmIHR5cGVvZiBub2RlLnRleHQgPT09IFwic3RyaW5nXCIgJiYgKHR5cGVvZiBub2RlLm1hcmtzID09PSBcInVuZGVmaW5lZFwiIHx8IEFycmF5LmlzQXJyYXkobm9kZS5tYXJrcykgJiYgbm9kZS5tYXJrcy5ldmVyeShtYXJrID0+IHR5cGVvZiBtYXJrID09PSBcInN0cmluZ1wiKSk7XG59XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dEJsb2NrKG5vZGUpIHtcbiAgcmV0dXJuIChcbiAgICAvLyBBIGJsb2NrIGRvZXNuJ3QgX2hhdmVfIHRvIGJlIG5hbWVkICdibG9jaycgLSB0byBkaWZmZXJlbnRpYXRlIGJldHdlZW5cbiAgICAvLyBhbGxvd2VkIGNoaWxkIHR5cGVzIGFuZCBtYXJrcywgb25lIG1pZ2h0IG5hbWUgdGhlbSBkaWZmZXJlbnRseVxuICAgIHR5cGVvZiBub2RlLl90eXBlID09PSBcInN0cmluZ1wiICYmXG4gICAgLy8gVG9vbGtpdC10eXBlcyBsaWtlIG5lc3RlZCBzcGFucyBhcmUgQC1wcmVmaXhlZFxuICAgIG5vZGUuX3R5cGVbMF0gIT09IFwiQFwiICYmIChcbiAgICAvLyBgbWFya0RlZnNgIGlzbid0IF9yZXF1aXJlZF8gcGVyIHNheSwgYnV0IGlmIGl0J3MgdGhlcmUsIGl0IG5lZWRzIHRvIGJlIGFuIGFycmF5XG4gICAgIShcIm1hcmtEZWZzXCIgaW4gbm9kZSkgfHwgIW5vZGUubWFya0RlZnMgfHwgQXJyYXkuaXNBcnJheShub2RlLm1hcmtEZWZzKSAmJlxuICAgIC8vIEV2ZXJ5IG1hcmsgZGVmaW5pdGlvbiBuZWVkcyB0byBoYXZlIGFuIGBfa2V5YCB0byBiZSBtYXBwYWJsZSBpbiBjaGlsZCBzcGFuc1xuICAgIG5vZGUubWFya0RlZnMuZXZlcnkoZGVmID0+IHR5cGVvZiBkZWYuX2tleSA9PT0gXCJzdHJpbmdcIikpICYmXG4gICAgLy8gYGNoaWxkcmVuYCBpcyByZXF1aXJlZCBhbmQgbmVlZHMgdG8gYmUgYW4gYXJyYXlcbiAgICBcImNoaWxkcmVuXCIgaW4gbm9kZSAmJiBBcnJheS5pc0FycmF5KG5vZGUuY2hpbGRyZW4pICYmXG4gICAgLy8gQWxsIGNoaWxkcmVuIGFyZSBvYmplY3RzIHdpdGggYF90eXBlYCAodXN1YWxseSBzcGFucywgYnV0IGNhbiBjb250YWluIG90aGVyIHN0dWZmKVxuICAgIG5vZGUuY2hpbGRyZW4uZXZlcnkoY2hpbGQgPT4gdHlwZW9mIGNoaWxkID09PSBcIm9iamVjdFwiICYmIFwiX3R5cGVcIiBpbiBjaGlsZClcbiAgKTtcbn1cbmZ1bmN0aW9uIGlzUG9ydGFibGVUZXh0TGlzdEl0ZW1CbG9jayhibG9jaykge1xuICByZXR1cm4gaXNQb3J0YWJsZVRleHRCbG9jayhibG9jaykgJiYgXCJsaXN0SXRlbVwiIGluIGJsb2NrICYmIHR5cGVvZiBibG9jay5saXN0SXRlbSA9PT0gXCJzdHJpbmdcIiAmJiAodHlwZW9mIGJsb2NrLmxldmVsID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBibG9jay5sZXZlbCA9PT0gXCJudW1iZXJcIik7XG59XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dFRvb2xraXRMaXN0KGJsb2NrKSB7XG4gIHJldHVybiBibG9jay5fdHlwZSA9PT0gXCJAbGlzdFwiO1xufVxuZnVuY3Rpb24gaXNQb3J0YWJsZVRleHRUb29sa2l0U3BhbihzcGFuKSB7XG4gIHJldHVybiBzcGFuLl90eXBlID09PSBcIkBzcGFuXCI7XG59XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dFRvb2xraXRUZXh0Tm9kZShub2RlKSB7XG4gIHJldHVybiBub2RlLl90eXBlID09PSBcIkB0ZXh0XCI7XG59XG5jb25zdCBrbm93bkRlY29yYXRvcnMgPSBbXCJzdHJvbmdcIiwgXCJlbVwiLCBcImNvZGVcIiwgXCJ1bmRlcmxpbmVcIiwgXCJzdHJpa2UtdGhyb3VnaFwiXTtcbmZ1bmN0aW9uIHNvcnRNYXJrc0J5T2NjdXJlbmNlcyhzcGFuLCBpbmRleCwgYmxvY2tDaGlsZHJlbikge1xuICBpZiAoIWlzUG9ydGFibGVUZXh0U3BhbihzcGFuKSB8fCAhc3Bhbi5tYXJrcykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoIXNwYW4ubWFya3MubGVuZ3RoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IG1hcmtzID0gc3Bhbi5tYXJrcy5zbGljZSgpO1xuICBjb25zdCBvY2N1cmVuY2VzID0ge307XG4gIG1hcmtzLmZvckVhY2gobWFyayA9PiB7XG4gICAgb2NjdXJlbmNlc1ttYXJrXSA9IDE7XG4gICAgZm9yIChsZXQgc2libGluZ0luZGV4ID0gaW5kZXggKyAxOyBzaWJsaW5nSW5kZXggPCBibG9ja0NoaWxkcmVuLmxlbmd0aDsgc2libGluZ0luZGV4KyspIHtcbiAgICAgIGNvbnN0IHNpYmxpbmcgPSBibG9ja0NoaWxkcmVuW3NpYmxpbmdJbmRleF07XG4gICAgICBpZiAoc2libGluZyAmJiBpc1BvcnRhYmxlVGV4dFNwYW4oc2libGluZykgJiYgQXJyYXkuaXNBcnJheShzaWJsaW5nLm1hcmtzKSAmJiBzaWJsaW5nLm1hcmtzLmluZGV4T2YobWFyaykgIT09IC0xKSB7XG4gICAgICAgIG9jY3VyZW5jZXNbbWFya10rKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBtYXJrcy5zb3J0KChtYXJrQSwgbWFya0IpID0+IHNvcnRNYXJrcyhvY2N1cmVuY2VzLCBtYXJrQSwgbWFya0IpKTtcbn1cbmZ1bmN0aW9uIHNvcnRNYXJrcyhvY2N1cmVuY2VzLCBtYXJrQSwgbWFya0IpIHtcbiAgY29uc3QgYU9jY3VyZW5jZXMgPSBvY2N1cmVuY2VzW21hcmtBXTtcbiAgY29uc3QgYk9jY3VyZW5jZXMgPSBvY2N1cmVuY2VzW21hcmtCXTtcbiAgaWYgKGFPY2N1cmVuY2VzICE9PSBiT2NjdXJlbmNlcykge1xuICAgIHJldHVybiBiT2NjdXJlbmNlcyAtIGFPY2N1cmVuY2VzO1xuICB9XG4gIGNvbnN0IGFLbm93blBvcyA9IGtub3duRGVjb3JhdG9ycy5pbmRleE9mKG1hcmtBKTtcbiAgY29uc3QgYktub3duUG9zID0ga25vd25EZWNvcmF0b3JzLmluZGV4T2YobWFya0IpO1xuICBpZiAoYUtub3duUG9zICE9PSBiS25vd25Qb3MpIHtcbiAgICByZXR1cm4gYUtub3duUG9zIC0gYktub3duUG9zO1xuICB9XG4gIHJldHVybiBtYXJrQS5sb2NhbGVDb21wYXJlKG1hcmtCKTtcbn1cbmZ1bmN0aW9uIGJ1aWxkTWFya3NUcmVlKGJsb2NrKSB7XG4gIHZhciBfYTtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIG1hcmtEZWZzID0gW11cbiAgfSA9IGJsb2NrO1xuICBpZiAoIWNoaWxkcmVuIHx8ICFjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3Qgc29ydGVkTWFya3MgPSBjaGlsZHJlbi5tYXAoc29ydE1hcmtzQnlPY2N1cmVuY2VzKTtcbiAgY29uc3Qgcm9vdE5vZGUgPSB7XG4gICAgX3R5cGU6IFwiQHNwYW5cIixcbiAgICBjaGlsZHJlbjogW10sXG4gICAgbWFya1R5cGU6IFwiPHVua25vd24+XCJcbiAgfTtcbiAgbGV0IG5vZGVTdGFjayA9IFtyb290Tm9kZV07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzcGFuID0gY2hpbGRyZW5baV07XG4gICAgaWYgKCFzcGFuKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgbWFya3NOZWVkZWQgPSBzb3J0ZWRNYXJrc1tpXSB8fCBbXTtcbiAgICBsZXQgcG9zID0gMTtcbiAgICBpZiAobm9kZVN0YWNrLmxlbmd0aCA+IDEpIHtcbiAgICAgIGZvciAocG9zOyBwb3MgPCBub2RlU3RhY2subGVuZ3RoOyBwb3MrKykge1xuICAgICAgICBjb25zdCBtYXJrID0gKChfYSA9IG5vZGVTdGFja1twb3NdKSA9PSBudWxsID8gdm9pZCAwIDogX2EubWFya0tleSkgfHwgXCJcIjtcbiAgICAgICAgY29uc3QgaW5kZXggPSBtYXJrc05lZWRlZC5pbmRleE9mKG1hcmspO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbWFya3NOZWVkZWQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbm9kZVN0YWNrID0gbm9kZVN0YWNrLnNsaWNlKDAsIHBvcyk7XG4gICAgbGV0IGN1cnJlbnROb2RlID0gbm9kZVN0YWNrW25vZGVTdGFjay5sZW5ndGggLSAxXTtcbiAgICBpZiAoIWN1cnJlbnROb2RlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBtYXJrS2V5IG9mIG1hcmtzTmVlZGVkKSB7XG4gICAgICBjb25zdCBtYXJrRGVmID0gbWFya0RlZnMuZmluZChkZWYgPT4gZGVmLl9rZXkgPT09IG1hcmtLZXkpO1xuICAgICAgY29uc3QgbWFya1R5cGUgPSBtYXJrRGVmID8gbWFya0RlZi5fdHlwZSA6IG1hcmtLZXk7XG4gICAgICBjb25zdCBub2RlID0ge1xuICAgICAgICBfdHlwZTogXCJAc3BhblwiLFxuICAgICAgICBfa2V5OiBzcGFuLl9rZXksXG4gICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgbWFya0RlZixcbiAgICAgICAgbWFya1R5cGUsXG4gICAgICAgIG1hcmtLZXlcbiAgICAgIH07XG4gICAgICBjdXJyZW50Tm9kZS5jaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgbm9kZVN0YWNrLnB1c2gobm9kZSk7XG4gICAgICBjdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgfVxuICAgIGlmIChpc1BvcnRhYmxlVGV4dFNwYW4oc3BhbikpIHtcbiAgICAgIGNvbnN0IGxpbmVzID0gc3Bhbi50ZXh0LnNwbGl0KFwiXFxuXCIpO1xuICAgICAgZm9yIChsZXQgbGluZSA9IGxpbmVzLmxlbmd0aDsgbGluZS0tID4gMTspIHtcbiAgICAgICAgbGluZXMuc3BsaWNlKGxpbmUsIDAsIFwiXFxuXCIpO1xuICAgICAgfVxuICAgICAgY3VycmVudE5vZGUuY2hpbGRyZW4gPSBjdXJyZW50Tm9kZS5jaGlsZHJlbi5jb25jYXQobGluZXMubWFwKHRleHQgPT4gKHtcbiAgICAgICAgX3R5cGU6IFwiQHRleHRcIixcbiAgICAgICAgdGV4dFxuICAgICAgfSkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudE5vZGUuY2hpbGRyZW4gPSBjdXJyZW50Tm9kZS5jaGlsZHJlbi5jb25jYXQoc3Bhbik7XG4gICAgfVxuICB9XG4gIHJldHVybiByb290Tm9kZS5jaGlsZHJlbjtcbn1cbmZ1bmN0aW9uIG5lc3RMaXN0cyhibG9ja3MsIG1vZGUpIHtcbiAgY29uc3QgdHJlZSA9IFtdO1xuICBsZXQgY3VycmVudExpc3Q7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmxvY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYmxvY2sgPSBibG9ja3NbaV07XG4gICAgaWYgKCFibG9jaykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICghaXNQb3J0YWJsZVRleHRMaXN0SXRlbUJsb2NrKGJsb2NrKSkge1xuICAgICAgdHJlZS5wdXNoKGJsb2NrKTtcbiAgICAgIGN1cnJlbnRMaXN0ID0gdm9pZCAwO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICghY3VycmVudExpc3QpIHtcbiAgICAgIGN1cnJlbnRMaXN0ID0gbGlzdEZyb21CbG9jayhibG9jaywgaSwgbW9kZSk7XG4gICAgICB0cmVlLnB1c2goY3VycmVudExpc3QpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChibG9ja01hdGNoZXNMaXN0KGJsb2NrLCBjdXJyZW50TGlzdCkpIHtcbiAgICAgIGN1cnJlbnRMaXN0LmNoaWxkcmVuLnB1c2goYmxvY2spO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICgoYmxvY2subGV2ZWwgfHwgMSkgPiBjdXJyZW50TGlzdC5sZXZlbCkge1xuICAgICAgY29uc3QgbmV3TGlzdCA9IGxpc3RGcm9tQmxvY2soYmxvY2ssIGksIG1vZGUpO1xuICAgICAgaWYgKG1vZGUgPT09IFwiaHRtbFwiKSB7XG4gICAgICAgIGNvbnN0IGxhc3RMaXN0SXRlbSA9IGN1cnJlbnRMaXN0LmNoaWxkcmVuW2N1cnJlbnRMaXN0LmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBuZXdMYXN0Q2hpbGQgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGxhc3RMaXN0SXRlbSksIHt9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IFsuLi5sYXN0TGlzdEl0ZW0uY2hpbGRyZW4sIG5ld0xpc3RdXG4gICAgICAgIH0pO1xuICAgICAgICBjdXJyZW50TGlzdC5jaGlsZHJlbltjdXJyZW50TGlzdC5jaGlsZHJlbi5sZW5ndGggLSAxXSA9IG5ld0xhc3RDaGlsZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRMaXN0LmNoaWxkcmVuLnB1c2gobmV3TGlzdCk7XG4gICAgICB9XG4gICAgICBjdXJyZW50TGlzdCA9IG5ld0xpc3Q7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKChibG9jay5sZXZlbCB8fCAxKSA8IGN1cnJlbnRMaXN0LmxldmVsKSB7XG4gICAgICBjb25zdCBtYXRjaGluZ0JyYW5jaCA9IHRyZWVbdHJlZS5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IG1hdGNoID0gbWF0Y2hpbmdCcmFuY2ggJiYgZmluZExpc3RNYXRjaGluZyhtYXRjaGluZ0JyYW5jaCwgYmxvY2spO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGN1cnJlbnRMaXN0ID0gbWF0Y2g7XG4gICAgICAgIGN1cnJlbnRMaXN0LmNoaWxkcmVuLnB1c2goYmxvY2spO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRMaXN0ID0gbGlzdEZyb21CbG9jayhibG9jaywgaSwgbW9kZSk7XG4gICAgICB0cmVlLnB1c2goY3VycmVudExpc3QpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChibG9jay5saXN0SXRlbSAhPT0gY3VycmVudExpc3QubGlzdEl0ZW0pIHtcbiAgICAgIGNvbnN0IG1hdGNoaW5nQnJhbmNoID0gdHJlZVt0cmVlLmxlbmd0aCAtIDFdO1xuICAgICAgY29uc3QgbWF0Y2ggPSBtYXRjaGluZ0JyYW5jaCAmJiBmaW5kTGlzdE1hdGNoaW5nKG1hdGNoaW5nQnJhbmNoLCB7XG4gICAgICAgIGxldmVsOiBibG9jay5sZXZlbCB8fCAxXG4gICAgICB9KTtcbiAgICAgIGlmIChtYXRjaCAmJiBtYXRjaC5saXN0SXRlbSA9PT0gYmxvY2subGlzdEl0ZW0pIHtcbiAgICAgICAgY3VycmVudExpc3QgPSBtYXRjaDtcbiAgICAgICAgY3VycmVudExpc3QuY2hpbGRyZW4ucHVzaChibG9jayk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudExpc3QgPSBsaXN0RnJvbUJsb2NrKGJsb2NrLCBpLCBtb2RlKTtcbiAgICAgICAgdHJlZS5wdXNoKGN1cnJlbnRMaXN0KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUud2FybihcIlVua25vd24gc3RhdGUgZW5jb3VudGVyZWQgZm9yIGJsb2NrXCIsIGJsb2NrKTtcbiAgICB0cmVlLnB1c2goYmxvY2spO1xuICB9XG4gIHJldHVybiB0cmVlO1xufVxuZnVuY3Rpb24gYmxvY2tNYXRjaGVzTGlzdChibG9jaywgbGlzdCkge1xuICByZXR1cm4gKGJsb2NrLmxldmVsIHx8IDEpID09PSBsaXN0LmxldmVsICYmIGJsb2NrLmxpc3RJdGVtID09PSBsaXN0Lmxpc3RJdGVtO1xufVxuZnVuY3Rpb24gbGlzdEZyb21CbG9jayhibG9jaywgaW5kZXgsIG1vZGUpIHtcbiAgcmV0dXJuIHtcbiAgICBfdHlwZTogXCJAbGlzdFwiLFxuICAgIF9rZXk6IFwiXCIuY29uY2F0KGJsb2NrLl9rZXkgfHwgXCJcIi5jb25jYXQoaW5kZXgpLCBcIi1wYXJlbnRcIiksXG4gICAgbW9kZSxcbiAgICBsZXZlbDogYmxvY2subGV2ZWwgfHwgMSxcbiAgICBsaXN0SXRlbTogYmxvY2subGlzdEl0ZW0sXG4gICAgY2hpbGRyZW46IFtibG9ja11cbiAgfTtcbn1cbmZ1bmN0aW9uIGZpbmRMaXN0TWF0Y2hpbmcocm9vdE5vZGUsIG1hdGNoaW5nKSB7XG4gIGNvbnN0IGxldmVsID0gbWF0Y2hpbmcubGV2ZWwgfHwgMTtcbiAgY29uc3Qgc3R5bGUgPSBtYXRjaGluZy5saXN0SXRlbSB8fCBcIm5vcm1hbFwiO1xuICBjb25zdCBmaWx0ZXJPblR5cGUgPSB0eXBlb2YgbWF0Y2hpbmcubGlzdEl0ZW0gPT09IFwic3RyaW5nXCI7XG4gIGlmIChpc1BvcnRhYmxlVGV4dFRvb2xraXRMaXN0KHJvb3ROb2RlKSAmJiAocm9vdE5vZGUubGV2ZWwgfHwgMSkgPT09IGxldmVsICYmIGZpbHRlck9uVHlwZSAmJiAocm9vdE5vZGUubGlzdEl0ZW0gfHwgXCJub3JtYWxcIikgPT09IHN0eWxlKSB7XG4gICAgcmV0dXJuIHJvb3ROb2RlO1xuICB9XG4gIGlmICghKFwiY2hpbGRyZW5cIiBpbiByb290Tm9kZSkpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGNvbnN0IG5vZGUgPSByb290Tm9kZS5jaGlsZHJlbltyb290Tm9kZS5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIG5vZGUgJiYgIWlzUG9ydGFibGVUZXh0U3Bhbihub2RlKSA/IGZpbmRMaXN0TWF0Y2hpbmcobm9kZSwgbWF0Y2hpbmcpIDogdm9pZCAwO1xufVxuY29uc3QgbGVhZGluZ1NwYWNlID0gL15cXHMvO1xuY29uc3QgdHJhaWxpbmdTcGFjZSA9IC9eXFxzLztcbmZ1bmN0aW9uIHRvUGxhaW5UZXh0KGJsb2NrKSB7XG4gIGNvbnN0IGJsb2NrcyA9IEFycmF5LmlzQXJyYXkoYmxvY2spID8gYmxvY2sgOiBbYmxvY2tdO1xuICBsZXQgdGV4dCA9IFwiXCI7XG4gIGJsb2Nrcy5mb3JFYWNoKChjdXJyZW50LCBpbmRleCkgPT4ge1xuICAgIGlmICghaXNQb3J0YWJsZVRleHRCbG9jayhjdXJyZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgcGFkID0gZmFsc2U7XG4gICAgY3VycmVudC5jaGlsZHJlbi5mb3JFYWNoKHNwYW4gPT4ge1xuICAgICAgaWYgKGlzUG9ydGFibGVUZXh0U3BhbihzcGFuKSkge1xuICAgICAgICB0ZXh0ICs9IHBhZCAmJiB0ZXh0ICYmICF0cmFpbGluZ1NwYWNlLnRlc3QodGV4dCkgJiYgIWxlYWRpbmdTcGFjZS50ZXN0KHNwYW4udGV4dCkgPyBcIiBcIiA6IFwiXCI7XG4gICAgICAgIHRleHQgKz0gc3Bhbi50ZXh0O1xuICAgICAgICBwYWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGluZGV4ICE9PSBibG9ja3MubGVuZ3RoIC0gMSkge1xuICAgICAgdGV4dCArPSBcIlxcblxcblwiO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0ZXh0O1xufVxuZnVuY3Rpb24gc3BhblRvUGxhaW5UZXh0KHNwYW4pIHtcbiAgbGV0IHRleHQgPSBcIlwiO1xuICBzcGFuLmNoaWxkcmVuLmZvckVhY2goY3VycmVudCA9PiB7XG4gICAgaWYgKGlzUG9ydGFibGVUZXh0VG9vbGtpdFRleHROb2RlKGN1cnJlbnQpKSB7XG4gICAgICB0ZXh0ICs9IGN1cnJlbnQudGV4dDtcbiAgICB9IGVsc2UgaWYgKGlzUG9ydGFibGVUZXh0VG9vbGtpdFNwYW4oY3VycmVudCkpIHtcbiAgICAgIHRleHQgKz0gc3BhblRvUGxhaW5UZXh0KGN1cnJlbnQpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0ZXh0O1xufVxuY29uc3QgTElTVF9ORVNUX01PREVfSFRNTCA9IFwiaHRtbFwiO1xuY29uc3QgTElTVF9ORVNUX01PREVfRElSRUNUID0gXCJkaXJlY3RcIjtcbmV4cG9ydCB7IExJU1RfTkVTVF9NT0RFX0RJUkVDVCwgTElTVF9ORVNUX01PREVfSFRNTCwgYnVpbGRNYXJrc1RyZWUsIGlzUG9ydGFibGVUZXh0QmxvY2ssIGlzUG9ydGFibGVUZXh0TGlzdEl0ZW1CbG9jaywgaXNQb3J0YWJsZVRleHRTcGFuLCBpc1BvcnRhYmxlVGV4dFRvb2xraXRMaXN0LCBpc1BvcnRhYmxlVGV4dFRvb2xraXRTcGFuLCBpc1BvcnRhYmxlVGV4dFRvb2xraXRUZXh0Tm9kZSwgbmVzdExpc3RzLCBzb3J0TWFya3NCeU9jY3VyZW5jZXMsIHNwYW5Ub1BsYWluVGV4dCwgdG9QbGFpblRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIm93bktleXMiLCJlIiwiciIsInQiLCJPYmplY3QiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibyIsImZpbHRlciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJhcmciLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJpbnB1dCIsImhpbnQiLCJwcmltIiwiU3ltYm9sIiwidG9QcmltaXRpdmUiLCJ1bmRlZmluZWQiLCJyZXMiLCJjYWxsIiwiVHlwZUVycm9yIiwiTnVtYmVyIiwiaXNQb3J0YWJsZVRleHRTcGFuIiwibm9kZSIsIl90eXBlIiwidGV4dCIsIm1hcmtzIiwiQXJyYXkiLCJpc0FycmF5IiwiZXZlcnkiLCJtYXJrIiwiaXNQb3J0YWJsZVRleHRCbG9jayIsIm1hcmtEZWZzIiwiZGVmIiwiX2tleSIsImNoaWxkcmVuIiwiY2hpbGQiLCJpc1BvcnRhYmxlVGV4dExpc3RJdGVtQmxvY2siLCJibG9jayIsImxpc3RJdGVtIiwibGV2ZWwiLCJpc1BvcnRhYmxlVGV4dFRvb2xraXRMaXN0IiwiaXNQb3J0YWJsZVRleHRUb29sa2l0U3BhbiIsInNwYW4iLCJpc1BvcnRhYmxlVGV4dFRvb2xraXRUZXh0Tm9kZSIsImtub3duRGVjb3JhdG9ycyIsInNvcnRNYXJrc0J5T2NjdXJlbmNlcyIsImluZGV4IiwiYmxvY2tDaGlsZHJlbiIsInNsaWNlIiwib2NjdXJlbmNlcyIsInNpYmxpbmdJbmRleCIsInNpYmxpbmciLCJpbmRleE9mIiwic29ydCIsIm1hcmtBIiwibWFya0IiLCJzb3J0TWFya3MiLCJhT2NjdXJlbmNlcyIsImJPY2N1cmVuY2VzIiwiYUtub3duUG9zIiwiYktub3duUG9zIiwibG9jYWxlQ29tcGFyZSIsImJ1aWxkTWFya3NUcmVlIiwiX2EiLCJzb3J0ZWRNYXJrcyIsIm1hcCIsInJvb3ROb2RlIiwibWFya1R5cGUiLCJub2RlU3RhY2siLCJpIiwibWFya3NOZWVkZWQiLCJwb3MiLCJtYXJrS2V5Iiwic3BsaWNlIiwiY3VycmVudE5vZGUiLCJtYXJrRGVmIiwiZmluZCIsImxpbmVzIiwic3BsaXQiLCJsaW5lIiwiY29uY2F0IiwibmVzdExpc3RzIiwiYmxvY2tzIiwibW9kZSIsInRyZWUiLCJjdXJyZW50TGlzdCIsImxpc3RGcm9tQmxvY2siLCJibG9ja01hdGNoZXNMaXN0IiwibmV3TGlzdCIsImxhc3RMaXN0SXRlbSIsIm5ld0xhc3RDaGlsZCIsIm1hdGNoaW5nQnJhbmNoIiwibWF0Y2giLCJmaW5kTGlzdE1hdGNoaW5nIiwiY29uc29sZSIsIndhcm4iLCJsaXN0IiwibWF0Y2hpbmciLCJzdHlsZSIsImZpbHRlck9uVHlwZSIsImxlYWRpbmdTcGFjZSIsInRyYWlsaW5nU3BhY2UiLCJ0b1BsYWluVGV4dCIsImN1cnJlbnQiLCJwYWQiLCJ0ZXN0Iiwic3BhblRvUGxhaW5UZXh0IiwiTElTVF9ORVNUX01PREVfSFRNTCIsIkxJU1RfTkVTVF9NT0RFX0RJUkVDVCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@portabletext/toolkit/dist/index.js\n");

/***/ })

};
;